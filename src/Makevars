PKG_CPPFLAGS = -Ibuild/_deps/gemma-src/ -Ibuild/_deps/highway-src/ -Ibuild/_deps/sentencepiece-src/ -I../inst/include/
PKG_LIBS = build/_deps/gemma-build/libgemma.a build/_deps/highway-build/libhwy.a build/_deps/sentencepiece-build/src/libsentencepiece.a

.NOTPARALLEL: all
all: libgemma $(OBJECTS) $(SHLIB)

clean:
	rm -f $(SHLIB) $(OBJECTS)
	rm -rf build/

libgemma:
	cmake -B build
	cd build; make -j8 libgemma sentencepiece-static
